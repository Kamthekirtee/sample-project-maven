node {
    

    //Clone example code from GitHub repository
    stage 'Build'
    
         
          git credentialsId: 'Kirtee-github-private-key', url: 'git@github.com:Kamthekirtee/sample-project-maven.git'
          
          
          
          
          stage 'push_to_Artifactory'
     def server = Artifactory.server 'Artifactory1'
    url: https://devopsartifactory1.jfrog.io', username: 'kamthekirtee14@gmail.com', password: '@Kituu123'
def uploadSpec = 
"""
{
"files": [
    {
        "pattern": "*/target/*.jar",
        "target": "example-repo-local"
    }

  ]
}"""
server.upload(uploadSpec)

 stage 'Publish build info' 
            
                rtPublishBuildInfo (
                    buildName: jenkins artifactory gradle upload,
                    buildNumber: 29,
                    serverId: Artifactory1
                )


}
