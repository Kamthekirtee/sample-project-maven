node {
      
      tool name: 'M3', type: 'maven'

    //Clone example code from GitHub repository
    stage 'Build'
    cleanWs()
         
          git credentialsId: 'Kirtee-github-private-key', url: 'git@github.com:Kamthekirtee/sample-project-maven.git'
          sh "mvn web3j:generate-sources"
          sh "mvn clean install"
          
    
          
          stage 'push_to_Artifactory'
         
     def server = Artifactory.server 'Artifactory1'
    url: https://devopsartifactory1.jfrog.io', username: 'kamthekirtee14@gmail.com', password: '@Kituu123'
def uploadSpec = 
"""
{
"files": [
    {
        "pattern": "*/target/*.jar",
        "target": "https://devopsartifactory1.jfrog.io/artifactory/example-repo-local/",
        "build": "jenkins artifactory maven upload/36"
    }

  ]
}"""
server.upload(uploadSpec)
def buildInfo2 = server.upload(uploadSpec)
server.publishBuildInfo(buildInfo2)




}
